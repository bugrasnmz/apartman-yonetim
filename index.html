<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Apartman Y√∂netim Sistemi - 12 Daireli Apartman i√ßin Kapsamlƒ± Y√∂netim Uygulamasƒ±">

    <!-- Security Headers via Meta Tags -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <!-- CSP: Allow scripts from self and trusted CDNs -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://www.gstatic.com https://*.firebaseio.com https://*.googleapis.com;
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
        font-src 'self' https://fonts.gstatic.com;
        img-src 'self' data: blob: https:;
        connect-src 'self' https://*.firebaseio.com https://*.googleapis.com https://firestore.googleapis.com https://identitytoolkit.googleapis.com https://api.emailjs.com wss://*.firebaseio.com;
        frame-src 'self' https://*.firebaseapp.com;
        object-src 'none';
        base-uri 'self';
        form-action 'self';
    ">

    <title>Apartman Y√∂netim Sistemi</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style"
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600;700&display=swap">
    <link
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css?v=5.5">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" defer></script>
    <!-- EmailJS SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js" defer></script>
</head>

<body>
    <a href="#main-content" class="skip-link">Ana i√ßeriƒüe atla</a>
    <!-- Custom Cursor -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <!-- Ambient Particles -->
    <div class="particles-container">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <div id="app">
        <!-- Login Page -->
        <div id="login-page" class="page active">
            <div class="login-container">
                <div class="login-card glass-card">
                    <div class="login-header">
                        <div class="logo">
                            <div class="logo-icon">üè¢</div>
                            <h1>Apartman Y√∂netim</h1>
                            <p>12 Daireli Apartman Y√∂netim Sistemi</p>
                        </div>
                    </div>

                    <div class="login-tabs">
                        <button class="tab-btn active" data-tab="admin">Y√∂netici</button>
                        <button class="tab-btn" data-tab="resident">Sakin</button>
                    </div>

                    <!-- Admin Login Form -->
                    <form id="admin-login-form" class="login-form active">
                        <div class="form-group">
                            <label for="admin-password">Y√∂netici ≈ûifresi</label>
                            <div class="input-wrapper">
                                <span class="input-icon">üîê</span>
                                <input type="password" id="admin-password" placeholder="≈ûifrenizi girin‚Ä¶" required
                                    autocomplete="current-password">
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary btn-full">
                            <span>Giri≈ü Yap</span>
                            <span class="btn-icon">‚Üí</span>
                        </button>
                    </form>

                    <!-- Resident Login Form -->
                    <form id="resident-login-form" class="login-form">
                        <div class="form-group">
                            <label for="apartment-number">Daire Numarasƒ±</label>
                            <div class="input-wrapper">
                                <span class="input-icon">üè†</span>
                                <select id="apartment-number" required>
                                    <option value="">Daire se√ßin...</option>
                                    <option value="1">Daire 1</option>
                                    <option value="2">Daire 2</option>
                                    <option value="3">Daire 3</option>
                                    <option value="4">Daire 4</option>
                                    <option value="5">Daire 5</option>
                                    <option value="6">Daire 6</option>
                                    <option value="7">Daire 7</option>
                                    <option value="8">Daire 8</option>
                                    <option value="9">Daire 9</option>
                                    <option value="10">Daire 10</option>
                                    <option value="11">Daire 11</option>
                                    <option value="12">Daire 12</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="resident-password">≈ûifre</label>
                            <div class="input-wrapper">
                                <span class="input-icon">üîë</span>
                                <input type="password" id="resident-password" placeholder="≈ûifrenizi girin‚Ä¶" required
                                    autocomplete="current-password">
                            </div>
                            <small class="form-hint">≈ûifrenizi bilmiyorsanƒ±z y√∂neticinize ba≈üvurun.</small>
                        </div>
                        <button type="submit" class="btn btn-primary btn-full">
                            <span>Giri≈ü Yap</span>
                            <span class="btn-icon">‚Üí</span>
                        </button>
                    </form>
                </div>

                <div class="login-decoration">
                    <div class="floating-shape shape-1"></div>
                    <div class="floating-shape shape-2"></div>
                    <div class="floating-shape shape-3"></div>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="admin-dashboard" class="page">
            <nav class="navbar glass-nav">
                <div class="nav-brand">
                    <span class="nav-logo">üè¢</span>
                    <span class="nav-title">Y√∂netici Paneli</span>
                </div>
                <button class="mobile-menu-btn" id="mobile-menu-toggle" aria-label="Men√ºy√º a√ß">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="nav-links" id="nav-links">
                    <a href="#" class="nav-link active" data-section="overview">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M3 3h7v7H3zM14 3h7v7h-7zM14 14h7v7h-7zM3 14h7v7H3z" />
                            </svg></span>
                        <span>Genel Bakƒ±≈ü</span>
                    </a>
                    <a href="#" class="nav-link" data-section="finance">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                            </svg></span>
                        <span>Gelir/Gider</span>
                    </a>
                    <a href="#" class="nav-link" data-section="electricity">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                            </svg></span>
                        <span>Faturalar</span>
                    </a>
                    <a href="#" class="nav-link" data-section="dues">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <circle cx="12" cy="12" r="10" />
                                <path d="M12 6v6l4 2" />
                            </svg></span>
                        <span>Aidatlar</span>
                    </a>
                    <a href="#" class="nav-link" data-section="maintenance">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <path
                                    d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" />
                            </svg></span>
                        <span>Bakƒ±mlar</span>
                    </a>
                    <a href="#" class="nav-link" data-section="tasks">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M9 11l3 3L22 4" />
                                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" />
                            </svg></span>
                        <span>ƒ∞≈ü Takibi</span>
                    </a>
                    <a href="#" class="nav-link" data-section="decisions">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                <polyline points="14 2 14 8 20 8" />
                                <line x1="16" y1="13" x2="8" y2="13" />
                                <line x1="16" y1="17" x2="8" y2="17" />
                                <polyline points="10 9 9 9 8 9" />
                            </svg></span>
                        <span>Kararlar</span>
                    </a>
                    <a href="#" class="nav-link" data-section="apartments">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                                <polyline points="9 22 9 12 15 12 15 22" />
                            </svg></span>
                        <span>Daireler</span>
                    </a>
                    <!-- Sidebar Footer - Theme & Logout -->
                    <div class="sidebar-footer">
                        <button class="theme-toggle sidebar-theme-toggle" id="theme-toggle" aria-label="Tema deƒüi≈ütir">
                            <svg class="sun-icon" viewBox="0 0 24 24" aria-hidden="true">
                                <circle cx="12" cy="12" r="5" />
                                <line x1="12" y1="1" x2="12" y2="3" />
                                <line x1="12" y1="21" x2="12" y2="23" />
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                                <line x1="1" y1="12" x2="3" y2="12" />
                                <line x1="21" y1="12" x2="23" y2="12" />
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
                            </svg>
                            <svg class="moon-icon" viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
                            </svg>
                        </button>
                        <a href="#" class="nav-link logout-link" id="admin-logout">
                            <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                                    <polyline points="16 17 21 12 16 7" />
                                    <line x1="21" y1="12" x2="9" y2="12" />
                                </svg></span>
                            <span>√áƒ±kƒ±≈ü</span>
                        </a>
                    </div>
                </div>
            </nav>

            <main class="main-content" id="main-content">
                <!-- Overview Section -->
                <section id="overview-section" class="section active">
                    <div class="section-header">
                        <h2>Genel Bakƒ±≈ü</h2>
                        <p>Apartman y√∂netimi √∂zet bilgileri</p>
                    </div>

                    <!-- Modern Stats Cards -->
                    <div class="finance-stats-grid">
                        <div class="finance-stat-card balance">
                            <div class="stat-card-icon">üè†</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Toplam Daire</span>
                                <span class="stat-card-value" id="total-apartments">12</span>
                            </div>
                        </div>
                        <div class="finance-stat-card income">
                            <div class="stat-card-icon">‚úÖ</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">√ñdenen Aidat</span>
                                <span class="stat-card-value" id="paid-dues">0</span>
                            </div>
                        </div>
                        <div class="finance-stat-card expense">
                            <div class="stat-card-icon">‚è≥</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Bekleyen Aidat</span>
                                <span class="stat-card-value" id="unpaid-dues">0</span>
                            </div>
                        </div>
                        <div class="finance-stat-card balance">
                            <div class="stat-card-icon">üí∞</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Toplam Bakiye</span>
                                <span class="stat-card-value" id="total-balance">‚Ç∫0</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="dashboard-card glass-card">
                            <h3>üìã Son Kararlar</h3>
                            <div id="recent-decisions" class="recent-list">
                                <p class="empty-state">Hen√ºz karar eklenmemi≈ü</p>
                            </div>
                        </div>
                        <div class="dashboard-card glass-card">
                            <h3>üîß Yakla≈üan Bakƒ±mlar</h3>
                            <div id="upcoming-maintenance" class="recent-list">
                                <p class="empty-state">Yakla≈üan bakƒ±m yok</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Finance Section (NEW) -->
                <section id="finance-section" class="section">
                    <div class="section-header">
                        <h2>Gelir/Gider Y√∂netimi</h2>
                        <button class="btn btn-primary" id="add-transaction-btn">
                            <span>+ Kayƒ±t Ekle</span>
                        </button>
                    </div>

                    <!-- Modern Summary Cards -->
                    <div class="finance-stats-grid">
                        <div class="finance-stat-card income">
                            <div class="stat-card-icon">üí∞</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Toplam Gelir</span>
                                <span class="stat-card-value" id="admin-total-income">‚Ç∫0</span>
                            </div>
                        </div>
                        <div class="finance-stat-card expense">
                            <div class="stat-card-icon">üí∏</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Toplam Gider</span>
                                <span class="stat-card-value" id="admin-total-expense">‚Ç∫0</span>
                            </div>
                        </div>
                        <div class="finance-stat-card balance">
                            <div class="stat-card-icon">üìä</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Net Bakiye</span>
                                <span class="stat-card-value" id="admin-net-balance">‚Ç∫0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Filter Bar -->
                    <div class="finance-filter-bar">
                        <div class="filter-group">
                            <label>üìã T√ºr:</label>
                            <select id="transaction-type-filter">
                                <option value="all">T√ºm√º</option>
                                <option value="income">Gelir</option>
                                <option value="expense">Gider</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>üìÖ Yƒ±l:</label>
                            <select id="transaction-year-filter">
                                <option value="2026">2026</option>
                                <option value="2025">2025</option>
                                <option value="2024">2024</option>
                            </select>
                        </div>
                    </div>

                    <!-- Transactions List -->
                    <div class="transactions-container">
                        <div id="transactions-list" class="transactions-list">
                            <p class="empty-state">Hen√ºz kayƒ±t eklenmemi≈ü</p>
                        </div>
                    </div>
                </section>

                <!-- Electricity Bills Section -->
                <section id="electricity-section" class="section">
                    <div class="section-header">
                        <h2>Faturalar</h2>
                        <button class="btn btn-primary" id="add-bill-btn">
                            <span>+ Fatura Ekle</span>
                        </button>
                    </div>

                    <!-- Stats Cards -->
                    <div class="finance-stats-grid">
                        <div class="finance-stat-card expense">
                            <div class="stat-card-icon">‚ö°</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Toplam Elektrik</span>
                                <span class="stat-card-value" id="total-electricity">‚Ç∫0</span>
                            </div>
                        </div>
                        <div class="finance-stat-card expense">
                            <div class="stat-card-icon">üíß</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Toplam Su</span>
                                <span class="stat-card-value" id="total-water">‚Ç∫0</span>
                            </div>
                        </div>
                        <div class="finance-stat-card expense">
                            <div class="stat-card-icon">üî•</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Toplam Doƒüalgaz</span>
                                <span class="stat-card-value" id="total-gas">‚Ç∫0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Filter Bar -->
                    <div class="finance-filter-bar">
                        <div class="filter-group">
                            <label>üìÖ Yƒ±l:</label>
                            <select id="bill-year-filter">
                                <option value="2026">2026</option>
                                <option value="2025">2025</option>
                                <option value="2024">2024</option>
                            </select>
                        </div>
                    </div>

                    <!-- Bills List -->
                    <div class="transactions-container">
                        <div id="bills-list" class="transactions-list">
                            <p class="empty-state">Hen√ºz fatura eklenmemi≈ü</p>
                        </div>
                    </div>
                </section>

                <!-- Dues Management Section -->
                <section id="dues-section" class="section">
                    <div class="section-header">
                        <h2>Aidat Takibi</h2>
                        <div class="header-actions">
                            <select id="dues-year-select" class="year-select">
                                <option value="2026">2026</option>
                                <option value="2025">2025</option>
                                <option value="2024">2024</option>
                            </select>
                        </div>
                    </div>

                    <!-- Stats Cards -->
                    <div class="finance-stats-grid">
                        <div class="finance-stat-card income">
                            <div class="stat-card-icon">‚úÖ</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Toplam Tahsilat</span>
                                <span class="stat-card-value" id="total-collected">‚Ç∫0</span>
                            </div>
                        </div>
                        <div class="finance-stat-card expense">
                            <div class="stat-card-icon">‚è≥</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Bekleyen</span>
                                <span class="stat-card-value" id="total-pending">‚Ç∫0</span>
                            </div>
                        </div>
                        <div class="finance-stat-card balance">
                            <div class="stat-card-icon">üíµ</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Aylƒ±k Aidat</span>
                                <div class="stat-input-group">
                                    <input type="number" id="monthly-due-amount" class="due-input" value="500" min="0"
                                        aria-label="Aylƒ±k aidat miktarƒ±">
                                    <span>‚Ç∫</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Dues Table -->
                    <div class="transactions-container">
                        <div class="table-scroll">
                            <table class="dues-table" id="dues-table">
                                <thead>
                                    <tr>
                                        <th>Daire</th>
                                        <th>Oca</th>
                                        <th>≈ûub</th>
                                        <th>Mar</th>
                                        <th>Nis</th>
                                        <th>May</th>
                                        <th>Haz</th>
                                        <th>Tem</th>
                                        <th>Aƒüu</th>
                                        <th>Eyl</th>
                                        <th>Eki</th>
                                        <th>Kas</th>
                                        <th>Ara</th>
                                    </tr>
                                </thead>
                                <tbody id="dues-table-body">
                                    <!-- Generated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Maintenance Section (NEW) -->
                <section id="maintenance-section" class="section">
                    <div class="section-header">
                        <h2>Periyodik Bakƒ±mlar</h2>
                        <button class="btn btn-primary" id="add-maintenance-btn">
                            <span>+ Bakƒ±m Ekle</span>
                        </button>
                    </div>

                    <!-- Stats Cards -->
                    <div class="finance-stats-grid">
                        <div class="finance-stat-card income">
                            <div class="stat-card-icon">‚úÖ</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Tamamlanan</span>
                                <span class="stat-card-value" id="maintenance-completed">0</span>
                            </div>
                        </div>
                        <div class="finance-stat-card expense">
                            <div class="stat-card-icon">üîß</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Bekleyen</span>
                                <span class="stat-card-value" id="maintenance-pending">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Maintenance List -->
                    <div class="transactions-container">
                        <div id="maintenance-list" class="transactions-list">
                            <p class="empty-state">Hen√ºz bakƒ±m kaydƒ± eklenmemi≈ü</p>
                        </div>
                    </div>
                </section>

                <!-- Tasks Section (NEW) -->
                <section id="tasks-section" class="section">
                    <div class="section-header">
                        <h2>ƒ∞≈ü Takibi</h2>
                        <button class="btn btn-primary" id="add-task-btn">
                            <span>+ ƒ∞≈ü Ekle</span>
                        </button>
                    </div>

                    <!-- Filter Buttons -->
                    <div class="finance-filter-bar">
                        <button class="filter-btn active" data-filter="all">üìã T√ºm√º</button>
                        <button class="filter-btn" data-filter="pending">‚è≥ Bekliyor</button>
                        <button class="filter-btn" data-filter="in_progress">üîÑ Devam Ediyor</button>
                        <button class="filter-btn" data-filter="completed">‚úÖ Tamamlandƒ±</button>
                    </div>

                    <!-- Tasks List -->
                    <div class="transactions-container">
                        <div id="tasks-list" class="transactions-list">
                            <p class="empty-state">Hen√ºz i≈ü kaydƒ± eklenmemi≈ü</p>
                        </div>
                    </div>
                </section>

                <!-- Decisions Section -->
                <section id="decisions-section" class="section">
                    <div class="section-header">
                        <h2>Apartman Kararlarƒ±</h2>
                        <button class="btn btn-primary" id="add-decision-btn">
                            <span>+ Karar Ekle</span>
                        </button>
                    </div>

                    <!-- Decisions List -->
                    <div class="transactions-container">
                        <div id="decisions-list" class="transactions-list">
                            <p class="empty-state">Hen√ºz karar eklenmemi≈ü</p>
                        </div>
                    </div>
                </section>

                <!-- Apartments Section (NEW) -->
                <section id="apartments-section" class="section">
                    <div class="section-header">
                        <h2>Daire Y√∂netimi</h2>
                        <div class="header-actions">
                            <button class="btn btn-secondary" id="migrate-data-btn">
                                <span>üîÑ Verileri Senkronize Et</span>
                            </button>
                        </div>
                    </div>

                    <!-- Stats Cards -->
                    <div class="finance-stats-grid">
                        <div class="finance-stat-card income">
                            <div class="stat-card-icon">üè†</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Toplam Daire</span>
                                <span class="stat-card-value" id="total-apartments">12</span>
                            </div>
                        </div>
                        <div class="finance-stat-card balance">
                            <div class="stat-card-icon">üë•</div>
                            <div class="stat-card-content">
                                <span class="stat-card-label">Dolu Daire</span>
                                <span class="stat-card-value" id="occupied-apartments">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Apartments Grid -->
                    <div class="transactions-container">
                        <div id="apartments-list" class="apartments-grid">
                            <div class="loading-state">
                                <div class="spinner"></div>
                                <p>Daire bilgileri y√ºkleniyor...</p>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- Resident Dashboard -->
        <div id="resident-dashboard" class="page">
            <nav class="navbar glass-nav">
                <div class="nav-brand">
                    <span class="nav-logo">üè¢</span>
                    <span class="nav-title">Apartman Paneli</span>
                    <span class="apartment-badge" id="resident-apartment-badge">Daire 1</span>
                </div>

                <button class="mobile-menu-btn" id="resident-mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="nav-links" id="resident-nav-links">
                    <!-- Mobile Profile Header -->
                    <div class="mobile-profile-header">
                        <div class="profile-avatar">üë§</div>
                        <div class="profile-info">
                            <span class="profile-name" id="mobile-profile-name">Sakin</span>
                            <span class="profile-apartment" id="mobile-profile-apartment">Daire 1</span>
                        </div>
                        <button class="menu-close-btn" id="menu-close-btn" aria-label="Men√ºy√º kapat">‚úï</button>
                    </div>
                    <div class="nav-divider"></div>
                    <a href="#" class="nav-link active" data-section="resident-overview">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M3 3h7v7H3zM14 3h7v7h-7zM14 14h7v7h-7zM3 14h7v7H3z" />
                            </svg></span>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="nav-link" data-section="resident-bills">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                            </svg></span>
                        <span>Faturalar</span>
                    </a>
                    <a href="#" class="nav-link" data-section="resident-decisions">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M9 11l3 3L22 4" />
                                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" />
                            </svg></span>
                        <span>Kararlar</span>
                    </a>
                    <a href="#" class="nav-link" data-section="resident-profile">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                                <circle cx="12" cy="7" r="4" />
                            </svg></span>
                        <span>Profilim</span>
                    </a>
                    <!-- Sidebar Footer - Theme & Logout -->
                    <div class="sidebar-footer">
                        <button class="theme-toggle sidebar-theme-toggle" id="resident-theme-toggle"
                            aria-label="Tema deƒüi≈ütir">
                            <svg class="sun-icon" viewBox="0 0 24 24" aria-hidden="true">
                                <circle cx="12" cy="12" r="5" />
                                <line x1="12" y1="1" x2="12" y2="3" />
                                <line x1="12" y1="21" x2="12" y2="23" />
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                                <line x1="1" y1="12" x2="3" y2="12" />
                                <line x1="21" y1="12" x2="23" y2="12" />
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
                            </svg>
                            <svg class="moon-icon" viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
                            </svg>
                        </button>
                        <a href="#" class="nav-link logout-link" id="resident-logout">
                            <span class="nav-icon"><svg viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                                    <polyline points="16 17 21 12 16 7" />
                                    <line x1="21" y1="12" x2="9" y2="12" />
                                </svg></span>
                            <span>√áƒ±kƒ±≈ü</span>
                        </a>
                    </div>
                </div>
            </nav>

            <main class="main-content">
                <!-- Resident Overview - Enhanced Dashboard -->
                <section id="resident-overview-section" class="section active">
                    <div class="section-header">
                        <h2>Ho≈ü Geldiniz!</h2>
                        <p id="resident-welcome-text">Daire 1 - Apartman bilgileri ve durumu</p>
                    </div>

                    <!-- Aidat Durumu -->
                    <div class="resident-stats-grid" style="margin-bottom: 48px;">
                        <div class="stat-card glass-card gradient-2 large-card">
                            <div class="stat-icon">üí∞</div>
                            <div class="stat-info">
                                <h3>Aidat Durumu</h3>
                                <div id="resident-due-status" class="due-status">
                                    <span class="status-badge paid">Bu Ay √ñdendi ‚úì</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Row: Aidat Tahsilat + Financial Status -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 64px; margin-bottom: 48px;">
                        <div
                            style="background: white; border-radius: 16px; padding: 32px; box-shadow: 0 4px 12px rgba(0,0,0,0.08);">
                            <div class="chart-header">
                                <h3>üìä Aidat Tahsilat Durumu</h3>
                            </div>
                            <div class="chart-wrapper" style="height: 240px;">
                                <canvas id="dues-collection-chart"></canvas>
                            </div>
                        </div>
                        <div
                            style="background: white; border-radius: 16px; padding: 32px; box-shadow: 0 4px 12px rgba(0,0,0,0.08);">
                            <div class="chart-header">
                                <h3>üìà Finansal Durum</h3>
                            </div>
                            <div class="chart-wrapper" style="height: 240px;">
                                <canvas id="financial-status-chart"></canvas>
                            </div>
                            <div class="chart-summary" style="margin-top: 24px;">
                                <div class="chart-stat balance">
                                    <span class="chart-stat-icon">üí∞</span>
                                    <div class="chart-stat-info">
                                        <span class="chart-stat-value" id="current-balance">‚Ç∫0</span>
                                        <span class="chart-stat-label">G√ºncel Bakiye</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Yƒ±llƒ±k Aidat √ñzeti -->
                    <div class="transactions-container" style="margin-bottom: 24px;">
                        <div class="chart-header">
                            <h3>üìä Yƒ±llƒ±k Aidat √ñzeti (<span id="resident-year">2026</span>)</h3>
                            <div class="chart-legend">
                                <span class="legend-item"><span class="legend-dot paid"></span> √ñdendi</span>
                                <span class="legend-item"><span class="legend-dot unpaid"></span> √ñdenmedi</span>
                            </div>
                        </div>

                        <!-- Timeline Marker Design -->
                        <div class="dues-timeline" id="resident-dues-timeline">
                            <!-- Generated by JavaScript -->
                        </div>

                        <div class="chart-summary">
                            <div class="chart-stat income">
                                <span class="chart-stat-icon">‚úÖ</span>
                                <div class="chart-stat-info">
                                    <span class="chart-stat-value" id="resident-paid-months">0</span>
                                    <span class="chart-stat-label">√ñdenen Ay</span>
                                </div>
                            </div>
                            <div class="chart-stat expense">
                                <span class="chart-stat-icon">‚è≥</span>
                                <div class="chart-stat-info">
                                    <span class="chart-stat-value" id="resident-unpaid-months">0</span>
                                    <span class="chart-stat-label">Bekleyen Ay</span>
                                </div>
                            </div>
                            <div class="chart-stat balance">
                                <span class="chart-stat-icon">üí∞</span>
                                <div class="chart-stat-info">
                                    <span class="chart-stat-value" id="resident-total-paid">‚Ç∫0</span>
                                    <span class="chart-stat-label">Toplam √ñdeme</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bottom Cards: Maintenance + Tasks + Decisions -->
                    <div class="dashboard-grid-3" style="margin-top: 24px;">
                        <div class="transactions-container">
                            <div class="chart-header">
                                <h3>üîß Periyodik Bakƒ±mlar</h3>
                            </div>
                            <div id="resident-maintenance-list" class="compact-list">
                                <p class="empty-state">Yakla≈üan bakƒ±m yok</p>
                            </div>
                        </div>
                        <div class="transactions-container">
                            <div class="chart-header">
                                <h3>üìã ƒ∞≈ü Takibi</h3>
                            </div>
                            <div id="resident-tasks-list" class="compact-list">
                                <p class="empty-state">Aktif i≈ü yok</p>
                            </div>
                        </div>
                        <div class="transactions-container">
                            <div class="chart-header">
                                <h3>üìù Son Kararlar</h3>
                            </div>
                            <div id="resident-recent-decisions" class="compact-list">
                                <p class="empty-state">Hen√ºz karar eklenmemi≈ü</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Resident Bills -->
                <section id="resident-bills-section" class="section">
                    <div class="section-header">
                        <h2>Elektrik Faturalarƒ±</h2>
                        <p>Apartman ortak alan elektrik faturalarƒ±</p>
                    </div>

                    <div id="resident-bills-list" class="bills-grid">
                        <p class="empty-state">Hen√ºz fatura eklenmemi≈ü</p>
                    </div>
                </section>

                <!-- Resident Decisions -->
                <section id="resident-decisions-section" class="section">
                    <div class="section-header">
                        <h2>Apartman Kararlarƒ±</h2>
                        <p>Y√∂netim kurulu kararlarƒ±</p>
                    </div>

                    <div id="resident-decisions-list" class="decisions-list">
                        <p class="empty-state">Hen√ºz karar eklenmemi≈ü</p>
                    </div>
                </section>

                <!-- Resident Profile -->
                <section id="resident-profile-section" class="section">
                    <div class="section-header">
                        <h2>üë§ Profilim</h2>
                        <p>Daire bilgilerinizi g√∂r√ºnt√ºleyin ve g√ºncelleyin</p>
                    </div>

                    <div class="profile-card glass-card">
                        <form id="resident-profile-form" class="modal-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="profile-resident-name">Ad Soyad</label>
                                    <input type="text" id="profile-resident-name" placeholder="Adƒ±nƒ±z Soyadƒ±nƒ±z">
                                </div>
                                <div class="form-group">
                                    <label for="profile-phone">Telefon</label>
                                    <input type="tel" id="profile-phone" placeholder="05XX XXX XX XX">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="profile-email">E-posta</label>
                                    <input type="email" id="profile-email" placeholder="ornek@email.com">
                                </div>
                                <div class="form-group">
                                    <label for="profile-resident-count">Ki≈üi Sayƒ±sƒ±</label>
                                    <input type="number" id="profile-resident-count" min="0" value="0">
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Daire Durumu</label>
                                <p class="form-value" id="profile-status-display">-</p>
                            </div>

                            <button type="submit" class="btn btn-primary">
                                <span>üíæ</span>
                                <span>Bilgilerimi G√ºncelle</span>
                            </button>
                        </form>

                        <!-- Password Change Section -->
                        <div class="form-section">
                            <h4 class="form-section-title">üîê ≈ûifre Deƒüi≈ütir</h4>
                            <form id="password-change-form">
                                <div class="form-group">
                                    <label for="current-password">Mevcut ≈ûifre</label>
                                    <input type="password" id="current-password" placeholder="Mevcut ≈üifrenizi girin"
                                        required>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="new-password">Yeni ≈ûifre</label>
                                        <input type="password" id="new-password" placeholder="Yeni ≈üifre" required
                                            minlength="4">
                                    </div>
                                    <div class="form-group">
                                        <label for="confirm-password">Yeni ≈ûifre (Tekrar)</label>
                                        <input type="password" id="confirm-password" placeholder="Tekrar girin" required
                                            minlength="4">
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-success">
                                    <span>üîë</span>
                                    <span>≈ûifremi Deƒüi≈ütir</span>
                                </button>
                            </form>
                        </div>

                        <!-- Logout Section -->
                        <div class="form-section">
                            <button type="button" class="btn btn-danger btn-full" id="profile-logout-btn">
                                <span>üö™</span>
                                <span>√áƒ±kƒ±≈ü Yap</span>
                            </button>
                        </div>
                    </div>
                </section>
            </main>

            <!-- Mobile Bottom Tab Bar -->
            <nav class="mobile-tab-bar" id="resident-tab-bar">
                <button class="tab-item active" data-section="resident-overview">
                    <span class="tab-icon"><svg viewBox="0 0 24 24">
                            <path d="M3 3h7v7H3zM14 3h7v7h-7zM14 14h7v7h-7zM3 14h7v7H3z" />
                        </svg></span>
                    <span class="tab-label">Ana</span>
                </button>
                <button class="tab-item" data-section="resident-bills">
                    <span class="tab-icon"><svg viewBox="0 0 24 24">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                        </svg></span>
                    <span class="tab-label">Faturalar</span>
                </button>
                <button class="tab-item" data-section="resident-profile">
                    <span class="tab-icon"><svg viewBox="0 0 24 24">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                            <circle cx="12" cy="7" r="4" />
                        </svg></span>
                    <span class="tab-label">Profil</span>
                </button>
                <button class="tab-item" id="tab-menu-toggle">
                    <span class="tab-icon"><svg viewBox="0 0 24 24">
                            <line x1="3" y1="12" x2="21" y2="12" />
                            <line x1="3" y1="6" x2="21" y2="6" />
                            <line x1="3" y1="18" x2="21" y2="18" />
                        </svg></span>
                    <span class="tab-label">Men√º</span>
                </button>
            </nav>
        </div>

        <!-- Modals -->
        <!-- Add Bill Modal -->
        <div class="modal" id="bill-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h3 id="bill-modal-title">Fatura Ekle</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="bill-form" class="modal-form">
                    <input type="hidden" id="bill-id">
                    <div class="form-group">
                        <label for="bill-type">Fatura T√ºr√º</label>
                        <select id="bill-type" required>
                            <option value="elektrik">‚ö° Elektrik</option>
                            <option value="su">üíß Su</option>
                            <option value="dogalgaz">üî• Doƒüalgaz</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="bill-month">Ay</label>
                        <select id="bill-month" required>
                            <option value="1">Ocak</option>
                            <option value="2">≈ûubat</option>
                            <option value="3">Mart</option>
                            <option value="4">Nisan</option>
                            <option value="5">Mayƒ±s</option>
                            <option value="6">Haziran</option>
                            <option value="7">Temmuz</option>
                            <option value="8">Aƒüustos</option>
                            <option value="9">Eyl√ºl</option>
                            <option value="10">Ekim</option>
                            <option value="11">Kasƒ±m</option>
                            <option value="12">Aralƒ±k</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="bill-year">Yƒ±l</label>
                        <select id="bill-year" required>
                            <option value="2026">2026</option>
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="bill-amount">Tutar (‚Ç∫)</label>
                        <input type="number" id="bill-amount" placeholder="0.00" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="bill-file">Fatura Dosyasƒ± (PDF/Resim)</label>
                        <div class="file-upload-wrapper">
                            <input type="file" id="bill-file" accept=".pdf,.jpg,.jpeg,.png">
                            <div class="file-upload-label">
                                <span class="upload-icon">üìé</span>
                                <span class="upload-text">Dosya se√ßin veya s√ºr√ºkleyin</span>
                            </div>
                        </div>
                        <div id="bill-file-preview" class="file-preview"></div>
                    </div>
                    <div class="form-group">
                        <label for="bill-notes">Notlar</label>
                        <textarea id="bill-notes" placeholder="Opsiyonel notlar..."></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary modal-cancel">ƒ∞ptal</button>
                        <button type="submit" class="btn btn-primary">Kaydet</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Add Decision Modal -->
        <div class="modal" id="decision-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h3 id="decision-modal-title">Karar Ekle</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="decision-form" class="modal-form">
                    <input type="hidden" id="decision-id">
                    <div class="form-group">
                        <label for="decision-title">Karar Ba≈ülƒ±ƒüƒ±</label>
                        <input type="text" id="decision-title" placeholder="√ñrn: Asans√∂r bakƒ±m kararƒ±" required>
                    </div>
                    <div class="form-group">
                        <label for="decision-date">Karar Tarihi</label>
                        <input type="date" id="decision-date" required>
                    </div>
                    <div class="form-group">
                        <label for="decision-content">Karar ƒ∞√ßeriƒüi</label>
                        <textarea id="decision-content" rows="5" placeholder="Karar detaylarƒ±nƒ± yazƒ±n..."
                            required></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary modal-cancel">ƒ∞ptal</button>
                        <button type="submit" class="btn btn-primary">Kaydet</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Add Transaction Modal (NEW) -->
        <div class="modal" id="transaction-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h3 id="transaction-modal-title">Gelir/Gider Ekle</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="transaction-form" class="modal-form">
                    <input type="hidden" id="transaction-id">
                    <div class="form-group">
                        <label for="transaction-type">T√ºr</label>
                        <select id="transaction-type" required>
                            <option value="income">Gelir</option>
                            <option value="expense">Gider</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="transaction-category">Kategori</label>
                        <select id="transaction-category" required>
                            <optgroup label="Gelir" id="income-categories">
                                <option value="aidat">Aidat</option>
                                <option value="kira">Kira Geliri</option>
                                <option value="diger_gelir">Diƒüer Gelir</option>
                            </optgroup>
                            <optgroup label="Gider" id="expense-categories">
                                <option value="elektrik">Elektrik</option>
                                <option value="su">Su</option>
                                <option value="dogalgaz">Doƒüalgaz</option>
                                <option value="temizlik">Temizlik</option>
                                <option value="bakim">Bakƒ±m/Onarƒ±m</option>
                                <option value="guvenlik">G√ºvenlik</option>
                                <option value="sigorta">Sigorta</option>
                                <option value="diger_gider">Diƒüer Gider</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="transaction-amount">Tutar (‚Ç∫)</label>
                        <input type="number" id="transaction-amount" placeholder="0.00" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="transaction-date">Tarih</label>
                        <input type="date" id="transaction-date" required>
                    </div>
                    <div class="form-group">
                        <label for="transaction-description">A√ßƒ±klama</label>
                        <textarea id="transaction-description" placeholder="A√ßƒ±klama girin..."></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary modal-cancel">ƒ∞ptal</button>
                        <button type="submit" class="btn btn-primary">Kaydet</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Add Maintenance Modal (NEW) -->
        <div class="modal" id="maintenance-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h3 id="maintenance-modal-title">Bakƒ±m Ekle</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="maintenance-form" class="modal-form">
                    <input type="hidden" id="maintenance-id">
                    <div class="form-group">
                        <label for="maintenance-title">Bakƒ±m Ba≈ülƒ±ƒüƒ±</label>
                        <input type="text" id="maintenance-title" placeholder="√ñrn: Asans√∂r bakƒ±mƒ±" required>
                    </div>
                    <div class="form-group">
                        <label for="maintenance-date">Planlanan Tarih</label>
                        <input type="date" id="maintenance-date" required>
                    </div>
                    <div class="form-group">
                        <label for="maintenance-description">A√ßƒ±klama</label>
                        <textarea id="maintenance-description" rows="3"
                            placeholder="Bakƒ±m detaylarƒ±nƒ± yazƒ±n..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="maintenance-status">Durum</label>
                        <select id="maintenance-status" required>
                            <option value="pending">Bekliyor</option>
                            <option value="completed">Tamamlandƒ±</option>
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary modal-cancel">ƒ∞ptal</button>
                        <button type="submit" class="btn btn-primary">Kaydet</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Decision Detail Modal (View Only) -->
        <div class="modal" id="decision-detail-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h3>üìù Karar Detayƒ±</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body" style="padding: 24px;">
                    <div class="decision-detail-content">
                        <h4 id="decision-detail-title"
                            style="font-size: 20px; font-weight: 600; margin-bottom: 16px; color: var(--text-primary);">
                        </h4>
                        <div
                            style="display: flex; gap: 16px; margin-bottom: 20px; color: var(--text-secondary); font-size: 14px;">
                            <span id="decision-detail-date">üìÖ </span>
                        </div>
                        <div id="decision-detail-content"
                            style="background: var(--bg-main); padding: 20px; border-radius: 12px; line-height: 1.7; color: var(--text-primary); white-space: pre-wrap;">
                        </div>
                    </div>
                </div>
                <div class="modal-actions" style="padding: 16px 24px; border-top: 1px solid var(--border-color);">
                    <button type="button" class="btn btn-secondary modal-close" style="width: 100%;">Kapat</button>
                </div>
            </div>
        </div>

        <!-- Add Task Modal (NEW) -->
        <div class="modal" id="task-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h3 id="task-modal-title">ƒ∞≈ü Ekle</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="task-form" class="modal-form">
                    <input type="hidden" id="task-id">
                    <div class="form-group">
                        <label for="task-title">ƒ∞≈ü Ba≈ülƒ±ƒüƒ±</label>
                        <input type="text" id="task-title" placeholder="√ñrn: Bah√ße d√ºzenlemesi" required>
                    </div>
                    <div class="form-group">
                        <label for="task-description">Kƒ±sa A√ßƒ±klama</label>
                        <input type="text" id="task-description" placeholder="Kƒ±sa a√ßƒ±klama..." required>
                    </div>
                    <div class="form-group">
                        <label for="task-detail">Detaylƒ± A√ßƒ±klama</label>
                        <textarea id="task-detail" rows="4" placeholder="Detaylƒ± bilgi..."></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-status">Durum</label>
                            <select id="task-status" required>
                                <option value="pending">Bekliyor</option>
                                <option value="in_progress">Devam Ediyor</option>
                                <option value="completed">Tamamlandƒ±</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="task-priority">√ñncelik</label>
                            <select id="task-priority" required>
                                <option value="low">D√º≈ü√ºk</option>
                                <option value="medium">Orta</option>
                                <option value="high">Y√ºksek</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary modal-cancel">ƒ∞ptal</button>
                        <button type="submit" class="btn btn-primary">Kaydet</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Task Detail Modal (NEW) -->
        <div class="modal" id="task-detail-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h3>ƒ∞≈ü Detayƒ±</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body" id="task-detail-content">
                    <!-- Dynamically filled -->
                </div>
            </div>
        </div>

        <!-- Apartment Edit Modal (NEW) -->
        <div class="modal" id="apartment-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h3 id="apartment-modal-title">Daire D√ºzenle</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="apartment-form" class="modal-form">
                    <input type="hidden" id="apartment-id">

                    <div class="form-group">
                        <label for="apartment-resident">Sakin Adƒ± Soyadƒ±</label>
                        <input type="text" id="apartment-resident" placeholder="√ñrn: Ahmet Yƒ±lmaz">
                    </div>

                    <div class="form-group">
                        <label for="apartment-status">Durum</label>
                        <select id="apartment-status" required>
                            <option value="owner">Ev Sahibi (Oturuyor)</option>
                            <option value="tenant">Kiracƒ±</option>
                            <option value="empty">Bo≈ü</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="apartment-owner">M√ºlk Sahibi</label>
                        <input type="text" id="apartment-owner" placeholder="√ñrn: Mehmet Demir">
                    </div>

                    <div class="form-group">
                        <label for="apartment-phone">Telefon Numarasƒ±</label>
                        <input type="tel" id="apartment-phone" placeholder="05XX XXX XX XX">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="apartment-count">Ki≈üi Sayƒ±sƒ±</label>
                            <input type="number" id="apartment-count" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="apartment-move-in">Giri≈ü Tarihi</label>
                            <input type="date" id="apartment-move-in">
                        </div>
                    </div>

                    <!-- E-posta ve ≈ûifre Y√∂netimi -->
                    <div class="form-section">
                        <h4 class="form-section-title">üîê Giri≈ü Bilgileri</h4>

                        <div class="form-group">
                            <label for="apartment-email">E-posta Adresi</label>
                            <input type="email" id="apartment-email" placeholder="ornek@email.com">
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="apartment-password-display">Mevcut ≈ûifre</label>
                                <div class="password-display-wrapper">
                                    <input type="text" id="apartment-password-display" readonly placeholder="≈ûifre yok">
                                    <button type="button" class="btn btn-sm btn-secondary" id="generate-password-btn"
                                        title="Yeni ≈ûifre Olu≈ütur">üîÑ</button>
                                </div>
                            </div>
                        </div>

                        <button type="button" class="btn btn-success btn-full" id="send-password-btn">
                            <span>üìß</span>
                            <span>≈ûifreyi E-posta ile G√∂nder</span>
                        </button>
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary modal-cancel">ƒ∞ptal</button>
                        <button type="submit" class="btn btn-primary">Kaydet</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- View Bill Modal -->
        <div class="modal" id="view-bill-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content glass-card large-modal">
                <div class="modal-header">
                    <h3>Fatura G√∂r√ºnt√ºle</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="bill-viewer" class="bill-viewer">
                        <!-- Content loaded dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>
    </div>

    <script type="module" src="js/app.js"></script>
</body>

</html>